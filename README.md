# Qichacha
上次弄了个天眼查的crawl,现在弄个企查查玩玩．

在login_get_cookie.py中通过selenium获取到登录之后的cookie,这个cookie会有过期时间，在测试过期时间的py文件里可以得到cookie的过期时间，写的很粗糙．之后在主文件中用动态的方式传入．

关于企查查的验证码，首先是没有整张验证码图片的元素，所以我通过拼接验证码上下部分的方法弄到了整张验证码提交打码平台（拼接的时候需要准确计算坐标和大小，相对元素定位等等），打码平台对接的还是超级鹰，有python接口，用起来还算方便，点击方面并没有什么检测算法来反对你的验证．

如果单用selenium爬取的话效率会比较慢，通过selenium和多线程请求的方式会大大提升效率，只要定时获取可用的cookie即可，如果有多个帐号最好，弄个池子稳稳的，但是会员的帐号不可谓不贵（一年360），所以只有少量帐号的话，更新cookie的时间需要调整好．

代码写的很随意很粗糙，有些人都说我的代码这注释有点少，对，就是tm这么少，不太喜欢写注释啊，不知道为啥．
写的也不严谨，并没有失败重试和一些捕捉异常错误的机制，也没有很清晰的架构，这里就说是一种爬取的思路吧，但是跑通它还是没有问题的，嗯哼，就是这样．
